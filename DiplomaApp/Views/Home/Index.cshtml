@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

 <div class="row g-5">
      <div class="col-md-3">
          <div class="position-sticky" style="top: 2rem;">
              <div class="p-4 mb-3 bg-light rounded">
                  <h4 class="fst-italic">О нас</h4>
                  <p class="mb-0">Ми - сайт гуманітарної допомоги, який працює з людьми, які були вимушені покинути свої домівки
                      та виїхати до інших міст. Все що від вас потребує - зарєструватия і вказати, що вам потрібно!
                  </p>
              </div>
            
              <div class="p-4">
                  <h4 class="fst-italic">Категорії товарів</h4>
                  <ol class="list-unstyled mb-0">
                      <li>
                          <a class="form-control" style="text-decoration: none" asp-route-category="" asp-action="Index">Усі товари</a>
                      </li>
                      @foreach (var categories in ViewBag.Categories)
                      {
                          <li>
                              <a class="form-control" style="text-decoration: none"
                                 asp-route-category="@categories.Name" asp-action="Index">
                                  @categories.Name
                              </a>
                          </li>
                      }
                  </ol>
              </div>
          </div>
      </div>

      <div class="col-md-9">
          <div class="row g-5 border-bottom"> 
              <div class="col-4">
                  <h3 class="pb-4 mb-4 fst-italic ">
                      @ViewBag.CurrentCategory
                  </h3>
              </div>
              @*<div class="col-sm-8" style="align-content:end">*@
                  @*<div>
                      @using (Html.BeginForm("Index", "Home"))
                      {
                          <div class="mb-3 input-group display-row">
                               <span class="margin-5lr"> Find by name:</span>
                              <input class="form-control" data-val="true" data-val-required="The FilterParametr field is required." id="FilterParametr" name="FilterParametr" type="text" value="@ViewBag.Filter"/> 
                              <span class="margin-5lr"></span>
                              <button type="submit" class="btn-primary btn-sm site-color" id="applyDesc">
                              <i class="bi bi-search"></i>
                              </button>
                          </div>
                          <div class="row">
                              <div class="col-7">
                              </div>
                               <div class="col-5">
                                  <span>Sorting by:</span>
                                  @Html.DropDownListFor(m => m.SortedParametr, new List<SelectListItem>
                                  { new SelectListItem{Text="Product Name A-Z", Value="ProductNameAZ"},
                                      new SelectListItem{Text="Product Name Z-A", Value ="ProductNameZA"},
                                      new SelectListItem{Text="Price Higher-Low", Value ="Price"},
                                      new SelectListItem{Text="Price Low-Higher", Value="PriceDescend"}}, "Please select", new{id="drop"})
                                  </div>
                              </div>
                         
                      }
                  </div>*@
              </div>
          @*</div>*@
          <div class="row row-cols-1 row-cols-md-3 g-5">
              @foreach (var product in ViewBag.Products)
              {
                  <div class="col-4">
                      <div class="p-0 my-4 border">
                          <a class="card text-center h-100" style="text-decoration: none" asp-route-Name="@product.Name" asp-action="Details">
                              <img src="@product.ImageUrl" class="card-img-top image-card"/>
                              <div class="card-body">
                                  <h4 class="card-title product-name">@product.Name</h4>
                                  <span class="product-type">@product.Category</span>
                                  <div class="row site-price-color">
                                      <div class="col pt-1">
                                          <span  style="font-size: 20px;">@string.Format("₴{0:n}", product.Price)</span>
                                      </div>
                                  </div>
                              </div>
                          </a>
                          
                          <a asp-route-id="@product.Id" asp-action="AddToCart" asp-controller="Order" class="btn btn-success">
                              Додати у кошик 
                              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart4" viewBox="0 0 16 16">
                                  <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
                              </svg>
                          </a>
                      </div>
                  </div>
              }
          </div>
      </div>
  </div>

  